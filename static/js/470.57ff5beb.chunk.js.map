{"version":3,"file":"static/js/470.57ff5beb.chunk.js","mappings":"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","sources":["components/goBack/GoBack.styled.js","components/goBack/GoBack.jsx","pages/movieDetails/MovieDetails.styled.js","pages/movieDetails/MovieDetails.jsx","servises/movie-service.js"],"sourcesContent":["import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const GoBackLink = styled(Link)`\n  display: flex;\n  gap: 5px;\n  align-items: center;\n`;\n","import { useLocation } from 'react-router-dom';\nimport { useRef } from 'react';\nimport { BsArrowLeft } from 'react-icons/bs';\nimport { GoBackLink } from './GoBack.styled';\n\nconst GoBack = () => {\n  const location = useLocation();\n  const goBackLocationPef = useRef(location.state?.from ?? '/');\n\n  return (\n    <GoBackLink to={goBackLocationPef.current}>\n      <BsArrowLeft />\n      Go back\n    </GoBackLink>\n  );\n};\n\nexport default GoBack;\n","import styled from 'styled-components';\n\nexport const MoviePage = styled.div`\n  padding-bottom: 25px;\n  border-bottom: 1px solid black;\n  box-shadow: 0px 4px 8px 0px rgba(34, 60, 80, 0.2);\n  margin-bottom: 15px;\n`;\n\nexport const MovieInfo = styled.div`\n  display: flex;\n  gap: 10px;\n  align-items: center;\n  padding-bottom: 10px;\n  margin-bottom: 15px;\n  border-bottom: 1px solid black;\n  box-shadow: 0px 4px 8px 0px rgba(34, 60, 80, 0.2);\n`;\n\nexport const Info = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  justify-content: space-between;\n  height: 300px;\n`;\n","import { Suspense, useEffect, useState } from 'react';\nimport { Link, Outlet, useParams } from 'react-router-dom/dist';\nimport { fetchMovieDetails } from 'servises/movie-service';\nimport GoBack from 'components/goBack/GoBack';\nimport { MovieInfo, MoviePage, Info } from './MovieDetails.styled';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n\n  const [movie, setMovie] = useState(null);\n\n  useEffect(() => {\n    fetchMovieDetails(movieId)\n      .then(data => {\n        if (movieId === data.id) {\n          return;\n        }\n        setMovie(data);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }, [movieId]);\n\n  if (!movie) return;\n\n  const { title, release_date, vote_average, genres, overview } = movie;\n  const releaseYear = release_date.slice(0, 4);\n  const userScore = Math.round(vote_average * 10);\n  const genresList = genres.map(genre => genre.name).join(', ');\n\n  return (\n    <>\n      <MoviePage>\n        <GoBack />\n        <MovieInfo>\n          <img\n            src={`https://image.tmdb.org/t/p/w500/${movie.poster_path}`}\n            alt=\"Poster\"\n            width=\"200px\"\n            height=\"300px\"\n          />\n\n          <Info>\n            <h2>\n              {title} ({releaseYear})\n            </h2>\n            <p>User score {userScore}%</p>\n            <h3>Overview</h3>\n            <p>{overview}</p>\n            <h4>Genres</h4>\n            <p>{genresList}</p>\n          </Info>\n        </MovieInfo>\n\n        <h5>Additional infirmation</h5>\n        <ul>\n          <li>\n            <Link to=\"cast\">Cast</Link>\n          </li>\n          <li>\n            <Link to=\"reviews\">Reviews</Link>\n          </li>\n        </ul>\n      </MoviePage>\n\n      <Suspense fallback={<div>Loading...</div>}>\n        <Outlet movie={title} />\n      </Suspense>\n    </>\n  );\n};\n\nexport default MovieDetails;\n","const API_KEY = '3d9b154117ba874dc2e52ba37ff08e6f';\n\nexport function fetchMovies() {\n  return fetch(\n    `https://api.themoviedb.org/3/trending/all/day?api_key=${API_KEY}&language=en-US`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nexport function fatchMovieByQuery(query) {\n  return fetch(\n    `https://api.themoviedb.org/3/search/movie?query=${query}&api_key=${API_KEY}&include_adult=false&language=en-US&page=1`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nexport function fetchMovieDetails(movieId) {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}&append_to_response=credits,reviews&language=en-US`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nexport function fetchCast(movieId) {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nexport function fetchReview(movieId) {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n"],"names":["GoBackLink","styled","Link","location","useLocation","goBackLocationPef","useRef","state","from","to","current","MoviePage","MovieInfo","Info","movieId","useParams","useState","movie","setMovie","useEffect","fetchMovieDetails","then","data","id","catch","error","console","log","title","release_date","vote_average","genres","overview","releaseYear","slice","userScore","Math","round","genresList","map","genre","name","join","src","poster_path","alt","width","height","Suspense","fallback","API_KEY","fetchMovies","fetch","response","ok","Error","status","json","fatchMovieByQuery","query","fetchCast","fetchReview"],"sourceRoot":""}